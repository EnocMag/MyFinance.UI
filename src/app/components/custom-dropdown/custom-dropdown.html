<div class="relative w-full">
    <button (click)="toggleDropdown()" type="button" class="w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg shadow-inner
               focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500
               transition duration-150 ease-in-out text-gray-400 text-left flex justify-between items-center"
        [ngClass]="{
          'text-white': selectedItem(),
          'text-gray-400': !selectedItem(),
        }"
    >
        <span>{{ getDisplayValue() }}</span>
        <span class="transition-transform duration-200" [class.rotate-180]="isDropdownOpen">&#9660;</span>
    </button>


    @if (isDropdownOpen) {
    <div class="absolute z-10 w-full mt-1 bg-gray-800 border border-gray-600 rounded-lg shadow-xl
                 max-h-[12rem] overflow-y-auto">
        <ul class="py-1">
            @for (item of items(); track item[trackByField()]) {
            <li (click)="selectItem(item)"
                [class.bg-indigo-600]="selectedItem() && selectedItem()![trackByField()] === item[trackByField()]"
                class="px-4 py-2 text-white hover:bg-gray-700 cursor-pointer transition duration-100 ease-in-out">
                {{ getOptionText(item) }}
            </li>
            }
        </ul>
    </div>
    }
</div>